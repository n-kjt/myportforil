<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head th:replace="common/head :: head_fragment(title = 'スキル一覧', scripts = ~{::script}, links = ~{::link})">
</head>
<body>
<div>
  <header class="header d-flex justify-content-between">
    <div>
      <h1>My Portfolio</h1>
    </div>
    <form th:action="@{/logout}" method="post">
      <input type="submit" name="logout" class="btn btn-login" value="ログアウト"/>
    </form>
  </header>
  <main>
    <div class="container">
		<div class="skill-column">
		  <div class="d-flex justify-content-between mb-3">
		    <h2 class="ttl_border w-40" style="width:200px;">バックエンド</h2>
		    <div class="">
		      <a class="btn btn-primary" th:href="@{/user/skilledit(category_id=2)}">項目を追加する</a>
		    </div>
		  </div>
		  <table class="table border rounded-3" style="border-collapse: separate; border-spacing: 0;">
		    <thead>
		      <tr>
		        <th scope="col" class="col-3">項目名</th>
		        <th scope="col" class="col-3">学習時間</th>
		        <th scope="col"></th>
		      </tr>
		    </thead>
		    <tbody>
		      <tr th:each="entry : ${groupedByCategory}" th:if="${entry.categoryId == 2}">
		        <td th:text="${entry.studyName}">Ruby(項目名)</td>
				<!-- 学習時間の更新用フォーム -->
		        <td style="width: 56%;">
		          <form th:action="@{/user/category}" method="post" class="	d-flex justify-content-between">
		            <input type="hidden" name="userId" th:value="${userId}">
		            <input type="hidden" name="entryId" th:value="${entry.id}">
					<input type="hidden" name="action" value="update" />
		            <input type="number" name="studyTime" min="0" class="form-select" th:value="${entry.studyTime}">
		            <button class="btn btn-add" type="submit">学習時間を保存する</button>
		          </form>
		        </td>
				
				<!-- 削除ボタン用フォーム -->
		        <td>
		          <form th:action="@{/user/category}" method="post">
		            <input type="hidden" name="userId" th:value="${userId}">
					<input type="hidden" name="entryId" th:value="${entry.id}">
					<input type="hidden" name="action" value="delete" />
		            <button class="btn btn-delete" type="submit">削除する</button>
		          </form>
		        </td>
		      </tr>
		    </tbody>
		  </table>
		</div>


		<div class="skill-column">
		  <div class="d-flex justify-content-between mb-3">
		    <h2 class="ttl_border" style="width:200px;">フロントエンド</h2>
		    <div>
		      <a class="btn btn-primary" th:href="@{/user/skilledit(category_id=1)}">項目を追加する</a>
		    </div>
		  </div>
		  <table class="table border rounded-3" style="border-collapse: separate; border-spacing: 0;">
		    <thead>
		      <tr>
		        <th scope="col" class="col-3">項目名</th>
		        <th scope="col" class="col-3">学習時間</th>
		        <th scope="col"></th>
		      </tr>
		    </thead>
		    <tbody>
		      <!-- エントリがフロントエンドカテゴリ (categoryId == 3) の場合のみ表示 -->
		      <tr th:each="entry : ${groupedByCategory}"  th:if="${entry.categoryId == 1}">
		        <td th:text="${entry.studyName}">Ruby(項目名)</td>
		        
		        <!-- 学習時間の更新用フォーム -->
		        <td	style="width: 56%;">
		          <form th:action="@{/user/category}" method="post"	class="	d-flex justify-content-between">
		            <input type="hidden" name="userId" th:value="${userId}">
					<input type="hidden" name="entryId" th:value="${entry.id}">
					<input type="hidden" name="action" value="update" />
		            <input type="number" name="studyTime" min="0" class="form-select" th:value="${entry.studyTime}">
		            <button class="btn btn-add" type="submit">学習時間を保存する</button>
		          </form>
		        </td>
		
		        <!-- 削除ボタン用フォーム -->
		        <td class="text-center">
		          <form th:action="@{/user/category}" method="post">
		            <input type="hidden" name="userId" th:value="${userId}">
					<input type="hidden" name="entryId" th:value="${entry.id}">
					<input type="hidden" name="action" value="delete" />
		            <button class="btn btn-delete" type="submit">削除する</button>
		          </form>
		        </td>
		      </trth:each="entry : ${groupedByCategory}" >
		    </tbody>
		  </table>
		</div>
		
		<div class="skill-column">
		  <div class="d-flex justify-content-between mb-3">
		    <h2 class="ttl_border w-40" style="width:150px;">インフラ</h2>
		    <div>
		      <a class="btn btn-primary" th:href="@{/user/skilledit(category_id=3)}">項目を追加する</a>
		    </div>
		  </div>
		  <table class="table border rounded-3" style="border-collapse: separate; border-spacing: 0;">
		    <thead>
		      <tr>
		        <th scope="col" class="col-3">項目名</th>
		        <th scope="col" class="col-3">学習時間</th>
		        <th scope="col"></th>
		      </tr>
		    </thead>
		    <tbody>
		      <!-- エントリがインフラカテゴリ (categoryId == 2) の場合のみ表示 -->
		      <tr th:each="entry : ${groupedByCategory}" th:if="${entry.categoryId == 3}">
		        <td th:text="${entry.studyName}">Ruby(項目名)</td>
		
		        <!-- 学習時間の更新用フォーム -->
		        <td	style="width: 56%;">
		          <form th:action="@{/user/category}" method="post"	class="	d-flex justify-content-between">
		            <input type="hidden" name="userId" th:value="${userId}">
					<input type="hidden" name="entryId" th:value="${entry.id}">
					<input type="hidden" name="action" value="update" />
		            <input type="number" name="studyTime" min="0" class="form-select" th:value="${entry.studyTime}">
		            <button class="btn btn-add" type="submit">学習時間を保存する</button>
		          </form>
		        </td>
		
		        <!-- 削除ボタン用フォーム -->
		        <td class="text-center">
		          <form th:action="@{/user/category}" method="post">
		            <input type="hidden" name="userId" th:value="${userId}">
					<input type="hidden" name="entryId" th:value="${entry.id}">
					<input type="hidden" name="action" value="delete" />
		            <button class="btn btn-delete" type="submit">削除する</button>
		          </form>
		        </td>
		      </tr>
		    </tbody>
		  </table>
		</div>
	  
    </div>
  </main>
  <footer class="footer">
    <copy sec:authentication="name"></copy>
  </footer>
  <script src="script.js"></script> 
</div>
</body>
</html>
